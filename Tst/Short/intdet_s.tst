//
// indet_s.tst - short tests for integer determinant.
//
// Most of the examples have been generated using the `sparsemat()'
// function from `random.lib'.
//

LIB "tst.lib";
tst_init();

ring r=0,x,dp;

// some zero matrices
matrix zero1;
det(zero1);

matrix zero2[3][3];
det(zero2);

matrix zero3[25][25];
det(zero3);

// some singular matrices
matrix singular1[3][3] =
  191390,0,0,
  0,0,2064801,
  2835899,0,0;
det(singular1);

matrix singular2[10][10] =
  0,7253563,0,0,0,1105209,0,8208412,0,0,
  -2285603,0,0,0,0,0,0,-8792059,0,0,
  0,0,4016624,0,0,0,0,0,0,9994285,
  0,0,0,0,9038738,-1544232,0,0,0,0,
  8713605,0,8687907,0,0,0,3753811,0,3068663,0,
  0,0,0,0,0,0,-2273659,0,4897346,0,
  0,-9995664,0,0,0,0,3278615,0,0,7715088,
  0,0,0,0,0,0,1895476,8313309,0,0,
  0,0,0,0,0,3495479,0,-4987970,0,0,
  0,0,0,0,9433584,1495751,0,0,0,1844284;
det(singular2);

// some trivial matrices
matrix trivial1[1][1] = 19703918739879879891231312312316;
det(trivial1);

matrix trivial2[2][2] =
  123618723, 1823791827313183918739183,
  -12387198372, -192369127398127391782937;
det(trivial2);

matrix trivial3[3][3] =
  1207361935641928, 1723691827639, -127346897126347,
  172346987123469817236498712649782, -1293684019284706304712634012364012746, 2389476102938470128417203487,
  341523947160734697126, 0, 142374169238746912387469;
det(trivial3);

// and now for something more serious ...
matrix serious1[20][20] =
  -19151322,82002337,97677337,74547596,39571493,91981655,95453414,0,60289689,7724362,28448357,29421824,69121129,39985321,93199559,90939351,0,92284860,49366438,12796429,
  49912318,82187400,16520142,99081570,81467674,6079923,16405205,46646250,60183380,6570461,69081341,81767774,17538675,34065285,44550684,49975649,0,3279524,47794049,81246336,
  38315519,6939653,-71592522,60379542,0,68961220,20204422,86994882,46366371,30453193,67712350,78413893,26377133,237924,15402506,48907819,50035789,53014118,82929861,23186630,
  80457056,32215516,69253008,88324506,59449492,52383416,69273830,0,0,13542327,58905201,7088935,57813196,13937011,7836257,33366653,4843636,0,86145980,0,
  38938247,83248999,85737415,70112933,50285328,0,61405548,0,56012678,38005706,59906963,54816509,0,74720246,87667594,53095544,70183487,52063963,81296301,4079315,
  0,37097,39066330,44890885,22660651,75141868,66571309,13369483,57624728,33305282,0,92605645,-58347268,12663150,14540809,52019925,-2848733,59935763,-14010114,44441960,
  29569931,-18080638,5728089,6652901,19644036,29192406,30185148,25446856,61923943,36195442,90608396,-13623656,18318654,16573797,56547027,68013336,8604547,38815108,52448886,50877452,
  96506671,-16576756,-87137678,90481797,28513336,39696509,45391763,55277489,97024172,26102999,-45651705,-63196469,0,66589716,37331956,0,10176587,24474644,33896861,83432772,
  89968935,45451409,62313412,0,0,98943226,38020072,97773724,76163836,0,0,0,0,87664083,62473676,72178501,73570670,5614222,17482922,87843252,
  19549705,0,50797038,71319094,58624416,44125643,64531904,0,97299336,28639252,21463574,40197656,-46992126,0,84767846,61030548,6843482,70023036,57008612,42435331,
  -71814993,36366914,91598852,-60588681,53077369,13436915,98646027,5932300,15171472,89055454,0,12448977,13510762,33496442,99086082,98264909,62911231,43536904,95046651,41722845,
  36420362,-27364145,0,20054449,0,391138,93988383,-53486945,-70758770,-80694620,99621155,95569044,-51889653,60786820,57594383,29109554,16412398,12907473,36582558,10547053,
  80667898,57256138,34637076,15792656,57768737,91132135,24630164,61634283,86183247,4253192,35435529,62036971,55535883,32320042,28211340,34772554,86511543,11063266,78114621,22507853,
  49589801,64785930,-36608788,0,0,93673252,79254998,12491001,12505756,71541898,72007970,90073334,38523104,88026009,4176051,70143757,14931984,47641482,0,0,
  63337033,70365891,43508454,49324524,12612616,85337060,76865839,34857408,27574388,38587663,75247889,77947614,99355406,16491101,72886522,93505267,71967858,64111044,56535736,51944685,
  14512293,-51454933,92863027,44016201,31685450,-43740381,0,75456840,0,27155152,78295361,86455055,93979434,64536986,0,82348008,65528973,81389440,0,60291185,
  85150041,43436472,49795574,98125881,-13758849,37990541,2652022,54376293,87781434,7864362,4424447,21314663,76823266,27000905,13028854,47072602,69653974,67809815,44422694,42451738,
  16047567,0,52520335,32303519,-71596286,46535095,74836408,-69948229,35057856,18725556,-98055204,74746586,53641412,0,85432311,14138213,46862851,29997300,24639707,34702466,
  59277742,71473526,89728865,57228122,-90292235,3880787,76800358,89806491,67919936,0,10374803,-1046158,31867692,25033945,42492111,64796973,12052456,46134651,63571512,98627336,
  18390024,1072107,86579476,83292043,2897247,72262229,25062518,14256741,0,30621219,-76534007,16787953,20331032,24442888,34111567,81085992,0,25604677,66473148,-24274027;
det(serious1);

matrix serious3[30][30] =
0,6408168,3086691,14610610,-144147418,97023973,1891045,66172212,48611143,77812860,58243967,3436409,52218327,28981425,82144220,-168696325,96891780,-52015182,-43831219,83412200,99895289,0,0,56746301,68870123,67781041,71033065,14143367,-123642174,-171399908,
-55403228,15110694,2548230,31288158,44966384,5166989,76213065,72532690,82660661,-96672080,66962132,52008016,-93895075,-17221781,-131896390,15965196,77734045,15869514,5218625,80366898,0,74866836,57233024,54514544,-26696912,-70127754,94279999,73016513,3224351,98487378,
-64181478,45840803,62051609,74654769,81046073,-80715208,0,53559379,0,67024348,-94153967,-175688166,35766706,0,72444979,16179048,0,987782,87401342,20392082,81255370,21303303,-24679950,58449795,0,75503216,0,22397738,0,36334460,
59995961,81036496,80641043,55360219,56079301,82369982,93939100,26455513,52420146,54611421,-114717307,86271805,46683511,53082422,-10637362,0,58744831,41356008,77027312,55601310,0,-84130230,62780579,99977428,68855470,27462366,-87530262,6324788,74491739,-176442825,
89441623,85084616,38337552,30215446,83276952,-125345395,33715289,95641443,91919610,67757669,84167074,28536089,-160245958,-95828187,9408071,20600007,99274497,15615301,6256036,26241535,89731535,54354424,50237806,0,58103244,7553770,45057616,48761548,34176488,-122373381,
88726645,38578908,14340147,0,1031488,14671938,5974159,0,54580570,54846073,49554380,79082918,22708456,0,43085394,74821108,34488306,24267513,97534352,44329980,25651616,-65534174,40569095,82390992,45255933,6071413,-92447518,44202,-10785318,0,
424862,0,93078766,56446250,53089874,0,61201005,58305659,-163426127,71873157,32016304,0,-18468236,50319860,64835581,76744829,19926650,-60150875,93337931,12354643,6796852,6405700,68595413,94289183,10486184,43822451,55149042,-10973126,52570897,32107260,
99574505,99623604,-10531575,0,56535425,94000204,-53048775,80889601,0,9504342,5711430,96845538,10941134,15988479,29666186,21547720,-128449560,17925749,-66980967,29242826,71961190,12288752,83331896,79718070,25764637,12581812,32539223,39193921,28834417,4304393,
21311842,29330887,31723316,32977334,53453153,38154654,36199344,97443488,43178126,90846538,9128739,17062162,29504900,89059801,-13880171,41861959,92457321,67712662,-13361681,-105160972,86641904,3732300,17648135,51547737,38020725,82956791,-17820736,59550656,-15452161,-144745700,
16020951,-136653511,24997936,-36498895,-135197636,59304442,-126536326,-73418000,8057061,44374127,8223980,-148743374,84745008,72246715,66945451,92408139,0,9710889,18699971,-148440277,-71733667,19763918,0,52716500,54085735,74362780,61447362,60614086,45181953,14555972,
0,29551465,14187585,-93828623,9404641,77130566,-125733423,63862054,81642655,22798611,24731420,44496595,-63121672,38747055,87957012,61078211,92226741,85347096,22546737,-52693098,69254535,26349139,-128631527,-28557978,52242375,-143319616,0,-111899596,38636908,422617,
72161856,60990008,-30184143,69806743,97713426,-138422432,61092678,12672137,0,38635137,-80505865,45090093,-95088518,0,49234249,85284809,66508563,50210838,96932575,82374174,0,39781843,41819897,0,55406669,60035763,87161787,3634192,18582955,43363739,
39873807,-86684951,5021608,73067764,53744894,-49828741,-119760890,-91501384,12867923,40939753,-87845369,37811976,60686642,84153063,-64135610,40834269,-80190648,79032499,64210365,11844800,0,52127963,88390018,0,7359016,0,88906889,7629803,8479179,30386399,
-25407258,26304875,94475947,82142623,7216434,-40880311,-78030234,10083950,55567700,19559629,50534717,42006752,-66250047,75844728,-34801907,-58088752,25188025,81528243,944537,90917245,49854186,82282343,-165027464,80728264,0,86312422,43697413,9684081,15046498,16988324,
90696066,36038295,17916657,31238818,-68049602,22208581,0,87546928,88466803,-27113705,56014219,-49410106,61030334,77987161,44295092,47495748,-153790979,18447009,60746891,37470727,7931961,70468892,79372272,83371971,31591623,84219706,32809315,36893325,-116111763,7073449,
15750690,48047155,39787767,-34642575,86791260,-23957851,0,80496293,38769224,11990277,-132800233,15724513,-144430232,93739783,16850497,-19887254,42495296,91646199,-95765033,16081025,9405653,82520950,21050937,42887462,84946672,-88051035,-14880398,-9519254,73465576,75675082,
69681891,25603920,32342721,85692841,16234355,40410493,40552873,24408407,-67646274,0,14223108,-65147293,90252738,18935932,37359867,0,87862672,28089959,39176838,-33935251,99230754,72865914,60549767,41197522,57474053,-100388679,3435001,73975761,34156429,-119692554,
591569,70398619,70435942,2852695,0,0,12358753,46348026,-120732477,71038447,99239734,-112456241,-62968349,31935069,31291942,-120169376,-106841258,91722950,94765899,20492078,-155350886,82275303,-95982293,66612768,4335559,27783921,73169844,22950075,33235715,-2117254,
18342534,78136703,57140534,9735126,2693054,-45591460,32065484,70925706,0,70924121,16972432,-105826281,0,85212414,-60202447,-32011526,85595193,35282586,54118725,9584531,-7168555,0,9460954,47721647,32177403,-35090026,926346,-23166272,70105630,-20650873,
81974641,27836926,38395000,98389,0,53117226,28894643,93391602,-13454381,-57870335,47184260,0,0,44251377,60557609,45309756,7433758,2326170,19448704,88554858,92275432,7412715,-75916597,15518693,45412960,70060568,-10805320,77365518,-86243950,87154713,
-112751650,36189057,69911037,1854211,31074979,77890633,22097971,2530944,-28389328,-114616256,76849224,18663786,36173022,83475591,0,65266063,48126973,59727824,22140603,51958611,-115345468,85725263,0,-197310938,0,-137681321,44922992,10748992,78193728,-83640257,
64494284,26557161,34156772,91923544,81333684,96765167,97080992,43136195,78618048,73809444,41848103,32747942,96766116,-140560714,-26039792,5308362,94823998,91144480,15660746,15688487,55217324,55506484,0,-94504836,57286172,4282631,-107605593,0,7972930,57095895,
13623035,89026338,-176578948,6460382,54496068,10150939,0,97762323,54827473,3787728,39388166,71424003,-153193816,71619542,34705705,-24202726,84935891,-110443565,0,40778748,54264701,-96935751,61833111,26517035,52252251,42176235,86619361,-54966125,79249763,69588040,
65862085,98585421,94676351,1687346,54799864,53883831,59889736,99170493,58091960,12633064,6970195,73649684,71712591,66863462,56505831,86941161,62944165,95994190,68519360,99427398,-65389929,70957922,34010498,82140955,79952252,-63344211,0,51527628,41228860,31787117,
61020323,0,45539594,85564859,0,0,21311304,0,0,87540318,3273907,73487562,57536433,93331605,-25288929,77327784,57398822,-20880883,174634,70882508,47395831,93453561,453096,3742875,49852510,57594144,95717277,-123625315,94668360,0,
0,65453839,12481623,53233803,79278623,0,60569525,48297033,64868764,18756035,49249031,-188952344,46730161,3867521,17863152,52173869,6509306,5848009,-133544561,25506541,69306077,2875909,42073437,-96218772,0,30519624,72632930,43421825,75888481,83152396,
58788983,51475384,9446314,-18583272,-48787909,-93488681,-74756985,9621516,79075755,-57473695,-67888057,0,12216870,49166486,78017003,37153193,93035237,875470,-1666280,15392468,38897950,2603498,-158544150,31824034,66722229,40545298,83928395,0,19253484,74467517,
43120738,50375391,-119610272,44562791,38820837,44240634,35749167,-24192749,0,40578710,12068732,46265080,-5096267,39668907,41605829,-107795720,55383751,6743252,90274676,-19729287,15264361,-121677154,5516423,83839978,32849745,0,-152843497,15248362,3274932,90719614,
13715373,87510173,-68929601,88865603,78149963,61262729,-137305741,-99114446,-51884761,47136988,28306063,92789948,90641951,34005549,-53100694,7625473,20298217,92780854,3707038,28475632,23234776,-32858313,27804908,83822430,11232047,-30563282,0,45767666,17421205,28907130,
98343278,42122306,5651144,34313086,71701332,-84500543,0,0,64899400,0,0,2374432,5207633,45725773,84651424,85962451,58039658,40821972,22390256,-104894280,59029292,62650665,12246007,29380851,53841117,-62830911,-27357351,-91325571,94332045,855852;
det(serious3);
tst_status(1);$
